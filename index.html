<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø§Ø¨Ù† Ø¹Ø«ÙŠÙ…ÙŠÙ† | Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --primary-navy: #0d121d; --card-bg: #161c28; --gold-text: #d4af37; --input-bg: #1e2533; --border-color: #2d3748; }
        body { background-color: var(--primary-navy); color: white; font-family: sans-serif; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        .header { text-align: center; margin-top: 15px; }
        .profile-img { width: 100px; height: 100px; border-radius: 50%; border: 2px solid var(--gold-text); margin: 0 auto 10px auto; background-image: url('https://upload.wikimedia.org/wikipedia/ar/c/c2/Muhammad_bin_Salih_al-Uthaymeen.jpg'); background-size: cover; background-position: center; }
        .ayah { color: var(--gold-text); font-weight: bold; margin: 25px 0; text-align: center; font-size: 1.1rem; }
        
        /* ØªØµÙ…ÙŠÙ… Ø®Ø§Ù†Ø© Ø§Ù„Ø¨Ø­Ø« Ù…Ø¹ Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */
        .search-wrapper {
            width: 100%; max-width: 400px; display: flex; align-items: center;
            background-color: var(--input-bg); border: 1px solid var(--border-color);
            border-radius: 12px; overflow: hidden; padding: 5px;
        }
        input { 
            flex: 1; background: transparent; border: none; padding: 12px; 
            color: white; text-align: right; font-size: 16px; outline: none; 
        }
        .send-btn {
            background-color: var(--gold-text); color: var(--primary-navy);
            border: none; border-radius: 8px; width: 45px; height: 45px;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: transform 0.2s;
        }
        .send-btn:active { transform: scale(0.9); }

        #response-area {
            width: 100%; max-width: 400px; background: var(--card-bg); border-radius: 12px; 
            margin-top: 20px; padding: 15px; display: none; border-right: 4px solid var(--gold-text);
            line-height: 1.8; font-size: 15px; text-align: justify; box-sizing: border-box;
        }
        .loading { color: var(--gold-text); font-style: italic; font-size: 13px; margin-top: 10px; display: none; }
        .donation-card { background-color: var(--card-bg); width: 100%; max-width: 400px; padding: 20px; border-radius: 15px; margin-top: 30px; text-align: center; border: 1px solid var(--border-color); box-sizing: border-box; }
        .pay-button { background-color: #ffc439; color: #003087; display: block; padding: 14px; border-radius: 10px; font-weight: bold; text-decoration: none; cursor: pointer; border: none; width: 100%; font-size: 18px; }
    </style>
</head>
<body>

    <div class="header">
        <div class="profile-img"></div>
        <h2>Ù…Ø­Ù…Ø¯ Ø¨Ù† ØµØ§Ù„Ø­ Ø¨Ù† Ø¹Ø«ÙŠÙ…ÙŠÙ†</h2>
        <div style="color: #8892b0; font-size: 14px;">Ø§Ù„Ù…ÙØªÙŠ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø§Ù„Ø°ÙƒÙŠ</div>
    </div>

    <div class="ayah">"ÙÙØ§Ø³Ù’Ø£ÙÙ„ÙÙˆØ§ Ø£ÙÙ‡Ù’Ù„Ù Ø§Ù„Ø°ÙÙ‘ÙƒÙ’Ø±Ù Ø¥ÙÙ† ÙƒÙÙ†ØªÙÙ…Ù’ Ù„ÙØ§ ØªÙØ¹Ù’Ù„ÙÙ…ÙÙˆÙ†Ù"</div>

    <div class="search-wrapper">
        <button class="send-btn" onclick="startSearch()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
        </button>
        <input type="text" id="user-question" placeholder="Ø§ÙƒØªØ¨ Ø³Ø¤Ø§Ù„Ùƒ Ø§Ù„Ø´Ø±Ø¹ÙŠ Ù‡Ù†Ø§..." onkeypress="if(event.key==='Enter') startSearch()">
    </div>
    
    <div id="loading-text" class="loading">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ ÙØªØ§ÙˆÙ‰ Ø§Ù„Ø´ÙŠØ®...</div>
    <div id="response-area"></div>

    <div class="donation-card">
        <div style="font-size: 15px; font-weight: bold; margin-bottom: 10px;">Ø¯Ø¹Ù… Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø§Ù„ÙˆÙ‚Ù ğŸ›¡ï¸</div>
        <button class="pay-button" onclick="openPaypal()">Pay with PayPal</button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        async function startSearch() {
            const question = document.getElementById('user-question').value;
            const responseArea = document.getElementById('response-area');
            const loadingText = document.getElementById('loading-text');

            if (!question) return;

            loadingText.style.display = 'block';
            responseArea.style.display = 'none';

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø¨Ø­Ø« (Ø³Ù†Ø±Ø¨Ø·Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ)
            setTimeout(() => {
                loadingText.style.display = 'none';
                responseArea.style.display = 'block';
                responseArea.innerHTML = `<b>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©:</b><br>ÙˆØ¹Ù„ÙŠÙƒÙ… Ø§Ù„Ø³Ù„Ø§Ù… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ØŒ Ø¨Ø®ØµÙˆØµ Ø³Ø¤Ø§Ù„Ùƒ Ø¹Ù† "${question}": ÙØ¥Ù†Ù‡ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙØªØ§ÙˆÙ‰ Ø§Ù„Ø´ÙŠØ® Ø§Ø¨Ù† Ø¹Ø«ÙŠÙ…ÙŠÙ† Ø±Ø­Ù…Ù‡ Ø§Ù„Ù„Ù‡ØŒ Ø§Ù„Ø¬ÙˆØ§Ø¨ Ù‡Ùˆ...`;
            }, 1500);
        }

        function openPaypal() {
            tg.openLink("https://www.paypal.com/paypalme/AbedAlfattahJafer");
        }
    </script>
</body>
</html>
